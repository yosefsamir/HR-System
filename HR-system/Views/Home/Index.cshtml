@{
    ViewData["Title"] = "الرئيسية";
    var arabicMonths = new[] { "", "يناير", "فبراير", "مارس", "أبريل", "مايو", "يونيو", "يوليو", "أغسطس", "سبتمبر", "أكتوبر", "نوفمبر", "ديسمبر" };
    var currentMonth = arabicMonths[DateTime.Now.Month];
    var currentYear = DateTime.Now.Year;
}

<div class="container-fluid py-4">
    <!-- Welcome Section -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card bg-dark border-secondary">
                <div class="card-body py-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h2 class="text-white mb-2">
                                <i class="bi bi-building me-2 text-primary"></i>
                                نظام إدارة الموارد البشرية
                            </h2>
                            <p class="text-light opacity-75 mb-0">
                                <i class="bi bi-calendar3 me-1"></i>
                                @DateTime.Now.ToString("dddd", new System.Globalization.CultureInfo("ar-EG"))،
                                @DateTime.Now.Day @currentMonth @currentYear
                                <span class="mx-2">|</span>
                                <i class="bi bi-clock me-1"></i>
                                <span id="currentTime">@DateTime.Now.ToString("hh:mm tt")</span>
                            </p>
                        </div>
                        <div class="d-none d-md-block">
                            <i class="bi bi-person-badge display-4 text-primary opacity-50"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Statistics Cards -->
    <div class="row mb-4">
        <div class="col-md-4 mb-3">
            <div class="card bg-dark border-primary h-100">
                <div class="card-body text-center py-4">
                    <div class="rounded-circle bg-primary bg-opacity-25 d-inline-flex align-items-center justify-content-center mb-3" style="width: 70px; height: 70px;">
                        <i class="bi bi-people-fill fs-2 text-primary"></i>
                    </div>
                    <h2 class="text-white mb-1">@ViewBag.EmployeeCount</h2>
                    <p class="text-light opacity-75 mb-0">إجمالي الموظفين</p>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card bg-dark border-success h-100">
                <div class="card-body text-center py-4">
                    <div class="rounded-circle bg-success bg-opacity-25 d-inline-flex align-items-center justify-content-center mb-3" style="width: 70px; height: 70px;">
                        <i class="bi bi-diagram-3-fill fs-2 text-success"></i>
                    </div>
                    <h2 class="text-white mb-1">@ViewBag.DepartmentCount</h2>
                    <p class="text-light opacity-75 mb-0">الأقسام</p>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card bg-dark border-warning h-100">
                <div class="card-body text-center py-4">
                    <div class="rounded-circle bg-warning bg-opacity-25 d-inline-flex align-items-center justify-content-center mb-3" style="width: 70px; height: 70px;">
                        <i class="bi bi-clock-fill fs-2 text-warning"></i>
                    </div>
                    <h2 class="text-white mb-1">@ViewBag.ShiftCount</h2>
                    <p class="text-light opacity-75 mb-0">الورديات</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card bg-dark border-secondary">
                <div class="card-header border-secondary">
                    <h5 class="mb-0 text-white">
                        <i class="bi bi-lightning-charge text-warning me-2"></i>
                        الإجراءات السريعة
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-6 col-md-4 col-lg-2">
                            <a href="/Employees" class="btn btn-outline-primary w-100 py-3">
                                <i class="bi bi-people d-block fs-4 mb-1"></i>
                                <small>الموظفين</small>
                            </a>
                        </div>
                        <div class="col-6 col-md-4 col-lg-2">
                            <a href="/Attendence" class="btn btn-outline-success w-100 py-3">
                                <i class="bi bi-clock-history d-block fs-4 mb-1"></i>
                                <small>الحضور</small>
                            </a>
                        </div>
                        <div class="col-6 col-md-4 col-lg-2">
                            <a href="/Bounes" class="btn btn-outline-info w-100 py-3">
                                <i class="bi bi-gift d-block fs-4 mb-1"></i>
                                <small>المكافآت</small>
                            </a>
                        </div>
                        <div class="col-6 col-md-4 col-lg-2">
                            <a href="/Deductions" class="btn btn-outline-danger w-100 py-3">
                                <i class="bi bi-dash-circle d-block fs-4 mb-1"></i>
                                <small>الخصومات</small>
                            </a>
                        </div>
                        <div class="col-6 col-md-4 col-lg-2">
                            <a href="/Advances" class="btn btn-outline-warning w-100 py-3">
                                <i class="bi bi-cash-stack d-block fs-4 mb-1"></i>
                                <small>السلف</small>
                            </a>
                        </div>
                        <div class="col-6 col-md-4 col-lg-2">
                            <a href="/Departments" class="btn btn-outline-secondary w-100 py-3">
                                <i class="bi bi-diagram-3 d-block fs-4 mb-1"></i>
                                <small>الأقسام</small>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- System Info -->
    <div class="row">
        <div class="col-md-6 mb-4">
            <div class="card bg-dark border-secondary h-100">
                <div class="card-header border-secondary">
                    <h5 class="mb-0 text-white">
                        <i class="bi bi-info-circle text-info me-2"></i>
                        معلومات النظام
                    </h5>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled mb-0">
                        <li class="d-flex justify-content-between py-2 border-bottom border-secondary">
                            <span class="text-light opacity-75">إصدار النظام</span>
                            <span class="text-white">1.0.0</span>
                        </li>
                        <li class="d-flex justify-content-between py-2 border-bottom border-secondary">
                            <span class="text-light opacity-75">آخر تحديث</span>
                            <span class="text-white">ديسمبر 2025</span>
                        </li>
                        <li class="d-flex justify-content-between py-2">
                            <span class="text-light opacity-75">حالة النظام</span>
                            <span class="badge bg-success">يعمل بشكل طبيعي</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="col-md-6 mb-4">
            <div class="card bg-dark border-secondary h-100">
                <div class="card-header border-secondary">
                    <h5 class="mb-0 text-white">
                        <i class="bi bi-list-check text-success me-2"></i>
                        أقسام النظام
                    </h5>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled mb-0">
                        <li class="d-flex align-items-center py-2 border-bottom border-secondary">
                            <i class="bi bi-check-circle-fill text-success me-2"></i>
                            <span class="text-light">إدارة الموظفين والأقسام</span>
                        </li>
                        <li class="d-flex align-items-center py-2 border-bottom border-secondary">
                            <i class="bi bi-check-circle-fill text-success me-2"></i>
                            <span class="text-light">تسجيل الحضور والانصراف</span>
                        </li>
                        <li class="d-flex align-items-center py-2 border-bottom border-secondary">
                            <i class="bi bi-check-circle-fill text-success me-2"></i>
                            <span class="text-light">المكافآت والخصومات والسلف</span>
                        </li>
                        <li class="d-flex align-items-center py-2">
                            <i class="bi bi-check-circle-fill text-success me-2"></i>
                            <span class="text-light">التقارير والإحصائيات</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Update time every second
        setInterval(function() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12;
            document.getElementById('currentTime').textContent = 
                hours.toString().padStart(2, '0') + ':' + minutes + ' ' + ampm;
        }, 1000);
    </script>
}
